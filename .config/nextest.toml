# Nextest configuration for oxirag
# See https://nexte.st/docs/configuration/

[profile.default]
# Default test profile - exclude CUDA/Metal (requires specific hardware)
# Use features that are testable without GPU acceleration
fail-fast = true
retries = 0

# CI profile - pure Rust features only (no GPU acceleration)
[profile.ci]
fail-fast = false
retries = 1

# Feature configuration notes:
# - cuda: Requires NVIDIA GPU + CUDA toolkit (cudarc dependency)
# - metal: Requires Apple Silicon/AMD GPU on macOS
# - These features should be tested manually on appropriate hardware
#
# Usage:
#   cargo nextest run --features full              # All features except GPU
#   cargo nextest run --features full-no-speculator  # Without ML layers
#   cargo nextest run --features full-cuda         # With CUDA (requires NVIDIA GPU)
#   cargo nextest run --features full-metal        # With Metal (requires Apple GPU)
